(this["webpackJsonpdragons-test"]=this["webpackJsonpdragons-test"]||[]).push([[0],{26:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(9),o=n.n(c),s=(n(26),n(27),n(12)),i=n(6),u=n.n(i),d=n(8),j=n(3),l=n(5),b=n(21),O=n.n(b).a.create({baseURL:"http://5c4b2a47aa8ee500142b4887.mockapi.io/api/v1/dragon"}),f=n(4),m=(n(47),n(0)),p=function(e){var t=e.children,n=e.onClick;return Object(m.jsx)("button",{onClick:n,type:"submit",children:t})},h=(n(49),function(e){var t=e.handleClose,n=e.show,r=void 0!==n&&n,a=e.children,c=e.modalRef;return r?Object(m.jsx)("div",{"data-testid":"modal",className:"modal display-block",children:Object(m.jsxs)("section",{ref:c,className:"modal-main",children:[Object(m.jsx)(p,{className:"closeButton",type:"button",onClick:t,children:Object(m.jsx)(f.c,{})}),a]})}):null}),x=(n(50),function(e){var t=e.onSubmit,n=e.dragonName,a=void 0===n?"":n,c=e.typeDragon,o=void 0===c?"":c,s=Object(r.useState)(a),i=Object(j.a)(s,2),u=i[0],d=i[1],l=Object(r.useState)(o),b=Object(j.a)(l,2),O=b[0],h=b[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(e),d(""),h("")},children:[Object(m.jsx)("div",{className:"inputContainer",children:Object(m.jsx)("input",{className:"inputText",type:"text",name:"name",autoComplete:"off",placeholder:"Nome",value:u,onChange:function(e){d(e.target.value)}})}),Object(m.jsx)("div",{className:"inputContainer",children:Object(m.jsx)("input",{type:"text",className:"inputText",name:"type",autoComplete:"off",placeholder:"Tipo",value:O,onChange:function(e){e.preventDefault(),h(e.target.value)}})}),Object(m.jsx)(p,{className:"submitButton",type:"submit",children:Object(m.jsx)(f.e,{})})]})})}),v=function(e){var t=e.createDragon,n=Object(r.useState)(!1),a=Object(j.a)(n,2),c=a[0],o=a[1],s=function(e){var n=new FormData(e.target),r=Object.fromEntries(n);t(function(e){return{name:e.name,type:e.type}}(r)),o(!1)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"container-dragons",children:[Object(m.jsx)(p,{onClick:function(){o(!0)},children:Object(m.jsx)(f.a,{})}),Object(m.jsx)(h,{show:c,handleClose:function(){return o(!1)},children:Object(m.jsx)(x,{dragonName:"",typeDragon:"",onSubmit:s})})]})})},g=function(e){var t=e.dragon,n=e.editDragon,a=Object(r.useState)(!1),c=Object(j.a)(a,2),o=c[0],s=c[1],i=function(e){var r=new FormData(e.target),a=Object.fromEntries(r);n(t.id,function(e){return{name:e.name,type:e.type}}(a)),s(!1)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"container-dragons",children:[Object(m.jsx)(p,{onClick:function(){s(!0)},children:Object(m.jsx)(f.d,{})}),Object(m.jsx)(h,{show:o,handleClose:function(){return s(!1)},children:Object(m.jsx)(x,{dragonName:null===t||void 0===t?void 0:t.name,typeDragon:null===t||void 0===t?void 0:t.type,onSubmit:i})})]})})},C=(n(51),function(e){var t=e.dragons,n=e.deleteDragon,a=e.editDragon,c=Object(r.useState)(!1),o=Object(j.a)(c,2),s=o[0],i=o[1],u=Object(r.useState)(),d=Object(j.a)(u,2),l=d[0],b=d[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"container-dragons",children:Object(m.jsx)("ul",{role:"tablist",className:"listDragons",children:t.map((function(e){return Object(m.jsxs)("li",{className:"listDragonItem",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:e.name}),Object(m.jsx)("p",{children:e.type})]}),Object(m.jsxs)("div",{className:"actionsContainer",children:[Object(m.jsx)(g,{dragon:e,editDragon:a}),Object(m.jsx)(p,{className:"deleteButton",onClick:function(){return t=e.id,b(t),void i(!0);var t},children:Object(m.jsx)(f.c,{})})]})]},e.id)}))})}),Object(m.jsx)(h,{"data-testid":"delete-dragon-modal",show:s,handleClose:function(){return i(!1)},children:Object(m.jsxs)("div",{className:"containerConfirmAction",children:[Object(m.jsx)("label",{children:"Deseja deletar esse drag\xe3o? "}),Object(m.jsxs)("div",{className:"containerDeleteButtons",children:[Object(m.jsx)(p,{"data-testid":"delete-dragon-confirm-button",onClick:function(){return n(l),void i(!1)},children:Object(m.jsx)(f.b,{})}),Object(m.jsx)(p,{onClick:function(){return i(!1)},children:Object(m.jsx)(f.c,{})})]})]})})]})}),D=(n(52),function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(j.a)(c,2),i=(o[0],o[1]),b=function(e){return e.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:t.name.toLowerCase()>e.name.toLowerCase()?-1:0}))},f=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,O.get("");case 4:t=e.sent,n=t.data,a(b(n)),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),l.b.error("Erro ao carregar os drag\xf5es"),a([]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,O.post("",t);case 4:return n=e.sent,r=n.data,a((function(e){return b([].concat(Object(s.a)(e),[r]))})),i(!1),l.b.success("Drag\xe3o criado com sucesso"),e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(0),l.b.error("Erro ao criar o drag\xe3o"),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,O.put("/".concat(t),n);case 4:e.sent?l.b.success("Drag\xe3o editado com sucesso"):l.b.error("Erro ao editar o drag\xe3o"),f(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),l.b.error("Erro ao editar o drag\xe3o");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),x=function(e){var t=n,r=t.findIndex((function(t){return t.id===e}));t.splice(r,1),a(Object(s.a)(t))},g=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,O.delete("/".concat(t));case 4:e.sent?l.b.success("Drag\xe3o deletado com sucesso"):l.b.error("Erro ao deletar o drag\xe3o"),x(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),l.b.error("Erro ao deletar o drag\xe3o");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){f()}),[]),Object(m.jsxs)("div",{className:"homePageContainer",children:[Object(m.jsx)("h1",{children:"Drag\xf5es"}),Object(m.jsx)(v,{createDragon:p}),Object(m.jsx)(C,{dragons:n,deleteDragon:g,editDragon:h}),Object(m.jsx)(l.a,{})]})});n(53);var N=function(){return Object(m.jsx)(D,{})};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.a5fc22c3.chunk.js.map